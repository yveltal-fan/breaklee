CREATE TABLE Characters (
    AccountID INT NOT NULL,
    CharacterID INT NOT NULL AUTO_INCREMENT,
    Name VARCHAR(17) NOT NULL,
    SlotIndex TINYINT UNSIGNED NOT NULL,
    Style INT UNSIGNED NOT NULL, 
    LiveStyle INT UNSIGNED NOT NULL DEFAULT 0,
    ExtendedStyle TINYINT UNSIGNED NOT NULL DEFAULT 0, 
    PKState SMALLINT UNSIGNED NOT NULL DEFAULT 0, 
    Nation SMALLINT UNSIGNED NOT NULL DEFAULT 0,
    WarpMask INT UNSIGNED NOT NULL DEFAULT 0x7,
    MapsMask INT UNSIGNED NOT NULL DEFAULT 0x7,
    Level TINYINT UNSIGNED NOT NULL DEFAULT 1,
    Exp BIGINT UNSIGNED NOT NULL DEFAULT 0,
    HonorPoint BIGINT NOT NULL DEFAULT 0,
    HonorExp BIGINT NOT NULL DEFAULT 0,
    HP BIGINT NOT NULL DEFAULT 2147483647,
    MP BIGINT NOT NULL DEFAULT 2147483647,
    SP BIGINT NOT NULL DEFAULT 2147483647,
    BP BIGINT NOT NULL DEFAULT 2147483647,
    Rage BIGINT NOT NULL DEFAULT 0,
    DP BIGINT NOT NULL DEFAULT 0,
    DPDuration BIGINT UNSIGNED NOT NULL DEFAULT 0,
    SkillRank TINYINT UNSIGNED NOT NULL DEFAULT 1,
    SkillLevel SMALLINT UNSIGNED NOT NULL DEFAULT 0,
    SkillExp BIGINT UNSIGNED NOT NULL DEFAULT 0,
    SkillPoint SMALLINT UNSIGNED NOT NULL DEFAULT 0,
    StatSTR SMALLINT UNSIGNED NOT NULL,
    StatDEX SMALLINT UNSIGNED NOT NULL,
    StatINT SMALLINT UNSIGNED NOT NULL,
    StatPNT SMALLINT UNSIGNED NOT NULL DEFAULT 0,
    Currency BIGINT UNSIGNED NOT NULL DEFAULT 0,
    WorldIndex TINYINT UNSIGNED NOT NULL,
    X SMALLINT UNSIGNED NOT NULL,
    Y SMALLINT UNSIGNED NOT NULL,
    DungeonIndex INT NOT NULL DEFAULT 0,
    CreatedAt BIGINT UNSIGNED NOT NULL DEFAULT UNIX_TIMESTAMP(),
    UpdatedAt BIGINT UNSIGNED NOT NULL DEFAULT UNIX_TIMESTAMP(),

    PRIMARY KEY (CharacterID),
    UNIQUE (AccountID, SlotIndex),
    UNIQUE (Name),

    CONSTRAINT FK_Accounts_Characters FOREIGN KEY (AccountID)
        REFERENCES Accounts(AccountID)
        ON DELETE CASCADE
) ENGINE = INNODB DEFAULT CHARSET = utf8;
